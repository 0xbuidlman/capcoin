#!/usr/bin/env node
'use strict';

// MEAN CLI.
var program = require('commander'),
  _ = require('lodash');

// set program version
var version = require('../package').version;
program.version(version, '-v, --version');

program
  .description('Capcoin - A explorer for Coincap.io')
  .command('global', 'Global data')
  .command('coins', 'All supported coins')
  .command('map', 'JSON object of Coin symbols/names and known aliases')
  .command('front', 'Front Page Data of current coin stats')
  .parse(process.argv);

// print help with no args
if (program.args.length < 1) {
  program.help();
}

// if there is a command, make sure it's valid
var commands = program.commands.map(function(command) {
  return command._name;
});

if (!commands.includes(program.args[0])) {
  console.log('mean: `' + program.rawArgs[2] + '` is not a michikoid command. See `mean --help`.');
  console.log();
  process.exit(1);
}
